---
varnish_user: varnish
varnish_group: varnish

varnish_runtime_root: "{{ runtime_root }}/varnish"
varnish_pidfile_path: "{{ varnish_runtime_root }}/varnishd.pid"

varnish_default_backend_host: localhost
varnish_default_backend_port: 80
varnish_default_backend_ttl: 120

varnish_accepts_external_connections: yes
varnish_listen_port: 6081

varnish_admin_address: localhost
varnish_admin_port: 6082

varnish_using_vcl: no

varnish_vcl_path: /etc/varnish/default.vcl
varnish_secret_path: /etc/varnish/secret

varnish_storage_type: malloc
varnish_storage_path: '/tmp/varnish/$INSTANCE/storage.bin'
varnish_storage_size: 1G

varnish_backend_hosts:
  - "{{ varnish_default_backend_host }}"
varnish_backend_port: "{{ varnish_default_backend_port }}"

varnish_health_checks_enabled: no

varnish_health_check_url: /
varnish_health_check_interval: 5s
varnish_health_check_timeout: 3s
varnish_health_check_window: 5
varnish_health_check_threshold: 3

varnish_grace_enabled: no
varnish_grace_period: 2m
